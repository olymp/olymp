'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = generateCode;
var objectAssign = require('object-assign');

var Annotator = require('pug-source-gen/lib/annotator');
var CodeGenerator = require('./ast');
var cleanupAST = require('pug-source-gen/lib/cleanup-ast');

var defaultOptions = exports.defaultOptions = {
  indentChar: '  ',
  useColon: false, // Use block expansion when possible
  preferredQuote: "'" // Preferred quotation mark used in attributes
};

function generateCode(ast, options) {
  options = objectAssign({}, defaultOptions, options);
  var cleanedAST = cleanupAST(ast);
  var annotatedAST = new Annotator(ast, options).compile();
  return new CodeGenerator(annotatedAST, options).compile();
}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4dGVybmFsL3NsYXRlL3B1Zy90by1wdWcvdXRpbHMvaW5kZXguZXM2Il0sIm5hbWVzIjpbImdlbmVyYXRlQ29kZSIsIm9iamVjdEFzc2lnbiIsInJlcXVpcmUiLCJBbm5vdGF0b3IiLCJDb2RlR2VuZXJhdG9yIiwiY2xlYW51cEFTVCIsImRlZmF1bHRPcHRpb25zIiwiaW5kZW50Q2hhciIsInVzZUNvbG9uIiwicHJlZmVycmVkUXVvdGUiLCJhc3QiLCJvcHRpb25zIiwiY2xlYW5lZEFTVCIsImFubm90YXRlZEFTVCIsImNvbXBpbGUiXSwibWFwcGluZ3MiOiI7Ozs7O2tCQVl3QkEsWTtBQVp4QixJQUFNQyxlQUFlQyxRQUFRLGVBQVIsQ0FBckI7O0FBRUEsSUFBTUMsWUFBWUQsUUFBUSw4QkFBUixDQUFsQjtBQUNBLElBQU1FLGdCQUFnQkYsUUFBUSxPQUFSLENBQXRCO0FBQ0EsSUFBTUcsYUFBYUgsUUFBUSxnQ0FBUixDQUFuQjs7QUFFTyxJQUFNSSwwQ0FBaUI7QUFDNUJDLGNBQVksSUFEZ0I7QUFFNUJDLFlBQVUsS0FGa0IsRUFFWDtBQUNqQkMsa0JBQWdCLEdBSFksQ0FHUDtBQUhPLENBQXZCOztBQU1RLFNBQVNULFlBQVQsQ0FBc0JVLEdBQXRCLEVBQTJCQyxPQUEzQixFQUFvQztBQUNqREEsWUFBVVYsYUFBYSxFQUFiLEVBQWlCSyxjQUFqQixFQUFpQ0ssT0FBakMsQ0FBVjtBQUNBLE1BQU1DLGFBQWFQLFdBQVdLLEdBQVgsQ0FBbkI7QUFDQSxNQUFNRyxlQUFlLElBQUlWLFNBQUosQ0FBY08sR0FBZCxFQUFtQkMsT0FBbkIsRUFBNEJHLE9BQTVCLEVBQXJCO0FBQ0EsU0FBTyxJQUFJVixhQUFKLENBQWtCUyxZQUFsQixFQUFnQ0YsT0FBaEMsRUFBeUNHLE9BQXpDLEVBQVA7QUFDRCIsImZpbGUiOiJleHRlcm5hbC9zbGF0ZS9wdWcvdG8tcHVnL3V0aWxzL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgb2JqZWN0QXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG5jb25zdCBBbm5vdGF0b3IgPSByZXF1aXJlKCdwdWctc291cmNlLWdlbi9saWIvYW5ub3RhdG9yJyk7XG5jb25zdCBDb2RlR2VuZXJhdG9yID0gcmVxdWlyZSgnLi9hc3QnKTtcbmNvbnN0IGNsZWFudXBBU1QgPSByZXF1aXJlKCdwdWctc291cmNlLWdlbi9saWIvY2xlYW51cC1hc3QnKTtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICBpbmRlbnRDaGFyOiAnICAnLFxuICB1c2VDb2xvbjogZmFsc2UsIC8vIFVzZSBibG9jayBleHBhbnNpb24gd2hlbiBwb3NzaWJsZVxuICBwcmVmZXJyZWRRdW90ZTogXCInXCIsIC8vIFByZWZlcnJlZCBxdW90YXRpb24gbWFyayB1c2VkIGluIGF0dHJpYnV0ZXNcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdlbmVyYXRlQ29kZShhc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9iamVjdEFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuICBjb25zdCBjbGVhbmVkQVNUID0gY2xlYW51cEFTVChhc3QpO1xuICBjb25zdCBhbm5vdGF0ZWRBU1QgPSBuZXcgQW5ub3RhdG9yKGFzdCwgb3B0aW9ucykuY29tcGlsZSgpO1xuICByZXR1cm4gbmV3IENvZGVHZW5lcmF0b3IoYW5ub3RhdGVkQVNULCBvcHRpb25zKS5jb21waWxlKCk7XG59XG4iXX0=

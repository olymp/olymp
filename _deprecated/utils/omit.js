import _isArray from 'lodash/isArray';
import _isObject from 'lodash/isObject';


var omit = function omit(obj) {
  var keyToOmit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '__typename';

  if (!_isObject(obj)) {
    return obj;
  }
  var newObj = Object.keys(obj).reduce(function (store, key) {
    if (_isArray(obj[key])) {
      store[key] = obj[key].map(function (x) {
        return omit(x, keyToOmit);
      });
    } else if (_isObject(obj[key])) {
      store[key] = omit(obj[key], keyToOmit);
    } else if (key !== keyToOmit) {
      store[key] = obj[key];
    }
    return store;
  }, {});
  return newObj;
};
export default omit;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhY2thZ2VzL3V0aWxzL29taXQuZXM2Il0sIm5hbWVzIjpbIm9taXQiLCJvYmoiLCJrZXlUb09taXQiLCJuZXdPYmoiLCJPYmplY3QiLCJrZXlzIiwicmVkdWNlIiwic3RvcmUiLCJrZXkiLCJtYXAiLCJ4Il0sIm1hcHBpbmdzIjoiOzs7O0FBRUEsSUFBTUEsT0FBTyxTQUFQQSxJQUFPLENBQUNDLEdBQUQsRUFBbUM7QUFBQSxNQUE3QkMsU0FBNkIsdUVBQWpCLFlBQWlCOztBQUM5QyxNQUFJLENBQUMsVUFBU0QsR0FBVCxDQUFMLEVBQW9CO0FBQ2xCLFdBQU9BLEdBQVA7QUFDRDtBQUNELE1BQU1FLFNBQVNDLE9BQU9DLElBQVAsQ0FBWUosR0FBWixFQUFpQkssTUFBakIsQ0FBd0IsVUFBQ0MsS0FBRCxFQUFRQyxHQUFSLEVBQWdCO0FBQ3JELFFBQUksU0FBUVAsSUFBSU8sR0FBSixDQUFSLENBQUosRUFBdUI7QUFDckJELFlBQU1DLEdBQU4sSUFBYVAsSUFBSU8sR0FBSixFQUFTQyxHQUFULENBQWE7QUFBQSxlQUFLVCxLQUFLVSxDQUFMLEVBQVFSLFNBQVIsQ0FBTDtBQUFBLE9BQWIsQ0FBYjtBQUNELEtBRkQsTUFFTyxJQUFJLFVBQVNELElBQUlPLEdBQUosQ0FBVCxDQUFKLEVBQXdCO0FBQzdCRCxZQUFNQyxHQUFOLElBQWFSLEtBQUtDLElBQUlPLEdBQUosQ0FBTCxFQUFlTixTQUFmLENBQWI7QUFDRCxLQUZNLE1BRUEsSUFBSU0sUUFBUU4sU0FBWixFQUF1QjtBQUM1QkssWUFBTUMsR0FBTixJQUFhUCxJQUFJTyxHQUFKLENBQWI7QUFDRDtBQUNELFdBQU9ELEtBQVA7QUFDRCxHQVRjLEVBU1osRUFUWSxDQUFmO0FBVUEsU0FBT0osTUFBUDtBQUNELENBZkQ7QUFnQkEsZUFBZUgsSUFBZiIsImZpbGUiOiJwYWNrYWdlcy91dGlscy9vbWl0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNPYmplY3QsIGlzQXJyYXkgfSBmcm9tICdsb2Rhc2gnO1xuXG5jb25zdCBvbWl0ID0gKG9iaiwga2V5VG9PbWl0ID0gJ19fdHlwZW5hbWUnKSA9PiB7XG4gIGlmICghaXNPYmplY3Qob2JqKSkge1xuICAgIHJldHVybiBvYmo7XG4gIH1cbiAgY29uc3QgbmV3T2JqID0gT2JqZWN0LmtleXMob2JqKS5yZWR1Y2UoKHN0b3JlLCBrZXkpID0+IHtcbiAgICBpZiAoaXNBcnJheShvYmpba2V5XSkpIHtcbiAgICAgIHN0b3JlW2tleV0gPSBvYmpba2V5XS5tYXAoeCA9PiBvbWl0KHgsIGtleVRvT21pdCkpO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3Qob2JqW2tleV0pKSB7XG4gICAgICBzdG9yZVtrZXldID0gb21pdChvYmpba2V5XSwga2V5VG9PbWl0KTtcbiAgICB9IGVsc2UgaWYgKGtleSAhPT0ga2V5VG9PbWl0KSB7XG4gICAgICBzdG9yZVtrZXldID0gb2JqW2tleV07XG4gICAgfVxuICAgIHJldHVybiBzdG9yZTtcbiAgfSwge30pO1xuICByZXR1cm4gbmV3T2JqO1xufTtcbmV4cG9ydCBkZWZhdWx0IG9taXQ7XG4iXX0=

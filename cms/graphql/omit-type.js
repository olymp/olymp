import _isArray from 'lodash/isArray';
import _isPlainObject from 'lodash/isPlainObject';


var omit = function omit(obj) {
  var keyToOmit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '__typename';

  if (!_isPlainObject(obj)) {
    return obj;
  }
  var newObj = Object.keys(obj).reduce(function (store, key) {
    if (_isArray(obj[key])) {
      store[key] = obj[key].map(function (x) {
        return omit(x, keyToOmit);
      });
    } else if (_isPlainObject(obj[key])) {
      store[key] = omit(obj[key], keyToOmit);
    } else if (key !== keyToOmit) {
      store[key] = obj[key];
    }
    return store;
  }, {});
  return newObj;
};
export default omit;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhY2thZ2VzL2dyYXBocWwvb21pdC10eXBlLmVzNiJdLCJuYW1lcyI6WyJvbWl0Iiwib2JqIiwia2V5VG9PbWl0IiwibmV3T2JqIiwiT2JqZWN0Iiwia2V5cyIsInJlZHVjZSIsInN0b3JlIiwia2V5IiwibWFwIiwieCJdLCJtYXBwaW5ncyI6Ijs7OztBQUVBLElBQU1BLE9BQU8sU0FBUEEsSUFBTyxDQUFDQyxHQUFELEVBQW1DO0FBQUEsTUFBN0JDLFNBQTZCLHVFQUFqQixZQUFpQjs7QUFDOUMsTUFBSSxDQUFDLGVBQWNELEdBQWQsQ0FBTCxFQUF5QjtBQUN2QixXQUFPQSxHQUFQO0FBQ0Q7QUFDRCxNQUFNRSxTQUFTQyxPQUFPQyxJQUFQLENBQVlKLEdBQVosRUFBaUJLLE1BQWpCLENBQXdCLFVBQUNDLEtBQUQsRUFBUUMsR0FBUixFQUFnQjtBQUNyRCxRQUFJLFNBQVFQLElBQUlPLEdBQUosQ0FBUixDQUFKLEVBQXVCO0FBQ3JCRCxZQUFNQyxHQUFOLElBQWFQLElBQUlPLEdBQUosRUFBU0MsR0FBVCxDQUFhO0FBQUEsZUFBS1QsS0FBS1UsQ0FBTCxFQUFRUixTQUFSLENBQUw7QUFBQSxPQUFiLENBQWI7QUFDRCxLQUZELE1BRU8sSUFBSSxlQUFjRCxJQUFJTyxHQUFKLENBQWQsQ0FBSixFQUE2QjtBQUNsQ0QsWUFBTUMsR0FBTixJQUFhUixLQUFLQyxJQUFJTyxHQUFKLENBQUwsRUFBZU4sU0FBZixDQUFiO0FBQ0QsS0FGTSxNQUVBLElBQUlNLFFBQVFOLFNBQVosRUFBdUI7QUFDNUJLLFlBQU1DLEdBQU4sSUFBYVAsSUFBSU8sR0FBSixDQUFiO0FBQ0Q7QUFDRCxXQUFPRCxLQUFQO0FBQ0QsR0FUYyxFQVNaLEVBVFksQ0FBZjtBQVVBLFNBQU9KLE1BQVA7QUFDRCxDQWZEO0FBZ0JBLGVBQWVILElBQWYiLCJmaWxlIjoicGFja2FnZXMvZ3JhcGhxbC9vbWl0LXR5cGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc1BsYWluT2JqZWN0LCBpc0FycmF5IH0gZnJvbSAnbG9kYXNoJztcblxuY29uc3Qgb21pdCA9IChvYmosIGtleVRvT21pdCA9ICdfX3R5cGVuYW1lJykgPT4ge1xuICBpZiAoIWlzUGxhaW5PYmplY3Qob2JqKSkge1xuICAgIHJldHVybiBvYmo7XG4gIH1cbiAgY29uc3QgbmV3T2JqID0gT2JqZWN0LmtleXMob2JqKS5yZWR1Y2UoKHN0b3JlLCBrZXkpID0+IHtcbiAgICBpZiAoaXNBcnJheShvYmpba2V5XSkpIHtcbiAgICAgIHN0b3JlW2tleV0gPSBvYmpba2V5XS5tYXAoeCA9PiBvbWl0KHgsIGtleVRvT21pdCkpO1xuICAgIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdChvYmpba2V5XSkpIHtcbiAgICAgIHN0b3JlW2tleV0gPSBvbWl0KG9ialtrZXldLCBrZXlUb09taXQpO1xuICAgIH0gZWxzZSBpZiAoa2V5ICE9PSBrZXlUb09taXQpIHtcbiAgICAgIHN0b3JlW2tleV0gPSBvYmpba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIHN0b3JlO1xuICB9LCB7fSk7XG4gIHJldHVybiBuZXdPYmo7XG59O1xuZXhwb3J0IGRlZmF1bHQgb21pdDtcbiJdfQ==

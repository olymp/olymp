import { immutable, withDynamicRedux } from 'olymp-redux';

var defaultState = {
  prefetch: null
};
export var PREFETCH = 'CMS_PREFETCH';

var name = 'cms';
var reducer = function reducer() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;
  var action = arguments[1];

  if (!action || !action.type) {
    return state;
  }
  switch (action.type) {
    case PREFETCH:
      return immutable(state).set('prefetch', action.payload).value();
    default:
      return state;
  }
};

export var createPrefetchPage = function createPrefetchPage(dispatch) {
  return function (payload) {
    return dispatch({ type: PREFETCH, payload: payload });
  };
};

export var withRedux = withDynamicRedux({
  name: name,
  reducer: reducer
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNtcy9jbXMvcmVkdXguZXM2Il0sIm5hbWVzIjpbImltbXV0YWJsZSIsIndpdGhEeW5hbWljUmVkdXgiLCJkZWZhdWx0U3RhdGUiLCJwcmVmZXRjaCIsIlBSRUZFVENIIiwibmFtZSIsInJlZHVjZXIiLCJzdGF0ZSIsImFjdGlvbiIsInR5cGUiLCJzZXQiLCJwYXlsb2FkIiwidmFsdWUiLCJjcmVhdGVQcmVmZXRjaFBhZ2UiLCJkaXNwYXRjaCIsIndpdGhSZWR1eCJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsU0FBVCxFQUFvQkMsZ0JBQXBCLFFBQTRDLGFBQTVDOztBQUVBLElBQU1DLGVBQWU7QUFDbkJDLFlBQVU7QUFEUyxDQUFyQjtBQUdBLE9BQU8sSUFBTUMsV0FBVyxjQUFqQjs7QUFFUCxJQUFNQyxPQUFPLEtBQWI7QUFDQSxJQUFNQyxVQUFVLFNBQVZBLE9BQVUsR0FBa0M7QUFBQSxNQUFqQ0MsS0FBaUMsdUVBQXpCTCxZQUF5QjtBQUFBLE1BQVhNLE1BQVc7O0FBQ2hELE1BQUksQ0FBQ0EsTUFBRCxJQUFXLENBQUNBLE9BQU9DLElBQXZCLEVBQTZCO0FBQzNCLFdBQU9GLEtBQVA7QUFDRDtBQUNELFVBQVFDLE9BQU9DLElBQWY7QUFDRSxTQUFLTCxRQUFMO0FBQ0UsYUFBT0osVUFBVU8sS0FBVixFQUNKRyxHQURJLENBQ0EsVUFEQSxFQUNZRixPQUFPRyxPQURuQixFQUVKQyxLQUZJLEVBQVA7QUFHRjtBQUNFLGFBQU9MLEtBQVA7QUFOSjtBQVFELENBWkQ7O0FBY0EsT0FBTyxJQUFNTSxxQkFBcUIsU0FBckJBLGtCQUFxQjtBQUFBLFNBQVk7QUFBQSxXQUFXQyxTQUFTLEVBQUVMLE1BQU1MLFFBQVIsRUFBa0JPLGdCQUFsQixFQUFULENBQVg7QUFBQSxHQUFaO0FBQUEsQ0FBM0I7O0FBRVAsT0FBTyxJQUFNSSxZQUFZZCxpQkFBaUI7QUFDeENJLFlBRHdDO0FBRXhDQztBQUZ3QyxDQUFqQixDQUFsQiIsImZpbGUiOiJjbXMvY21zL3JlZHV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW1tdXRhYmxlLCB3aXRoRHluYW1pY1JlZHV4IH0gZnJvbSAnb2x5bXAtcmVkdXgnO1xuXG5jb25zdCBkZWZhdWx0U3RhdGUgPSB7XG4gIHByZWZldGNoOiBudWxsLFxufTtcbmV4cG9ydCBjb25zdCBQUkVGRVRDSCA9ICdDTVNfUFJFRkVUQ0gnO1xuXG5jb25zdCBuYW1lID0gJ2Ntcyc7XG5jb25zdCByZWR1Y2VyID0gKHN0YXRlID0gZGVmYXVsdFN0YXRlLCBhY3Rpb24pID0+IHtcbiAgaWYgKCFhY3Rpb24gfHwgIWFjdGlvbi50eXBlKSB7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFBSRUZFVENIOlxuICAgICAgcmV0dXJuIGltbXV0YWJsZShzdGF0ZSlcbiAgICAgICAgLnNldCgncHJlZmV0Y2gnLCBhY3Rpb24ucGF5bG9hZClcbiAgICAgICAgLnZhbHVlKCk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVByZWZldGNoUGFnZSA9IGRpc3BhdGNoID0+IHBheWxvYWQgPT4gZGlzcGF0Y2goeyB0eXBlOiBQUkVGRVRDSCwgcGF5bG9hZCB9KTtcblxuZXhwb3J0IGNvbnN0IHdpdGhSZWR1eCA9IHdpdGhEeW5hbWljUmVkdXgoe1xuICBuYW1lLFxuICByZWR1Y2VyLFxufSk7XG4iXX0=

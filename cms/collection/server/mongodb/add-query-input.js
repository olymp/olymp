import { parse } from 'graphql/language';
import { addDefinition, createTypeFetcher } from 'olymp-graphql/server';

var fetch = createTypeFetcher(function (node, value) {
  return node.kind !== 'NamedType' && node.kind !== 'NonNullType' && !!node.name && node.name.value === value;
});

var getArgument = function getArgument(field, ast) {
  if (field.type.kind === 'ListType' && field.type.type.name.value && field.type.type.name.value === 'String') {
    addDefinition(ast, parse('\n      input ' + field.type.type.name.value + 'Query {\n        in: [' + field.type.type.name.value + '],\n        nin: [' + field.type.type.name.value + '],\n        null: Boolean\n      }\n    ').definitions[0]);
    return field.name.value + ': ' + field.type.type.name.value + 'Query';
  }
  if (!field.type.name) {
    return null;
  }
  var fieldType = fetch(ast, field.type.name.value);
  if (['Date', 'DateTime'].includes(field.type.name.value)) {
    addDefinition(ast, parse('\n      input DateQuery {\n        eq: DateTime,\n        ne: DateTime,\n        lt: DateTime,\n        gt: DateTime,\n        gte: DateTime,\n        lte: DateTime,\n        day: DateTime,\n        year: DateTime,\n        month: DateTime,\n        between: [DateTime],\n        null: Boolean\n      }\n    ').definitions[0]);
    return field.name.value + ': DateQuery';
  }
  if (['Int'].includes(field.type.name.value)) {
    addDefinition(ast, parse('\n      input IntQuery {\n        eq: Int,\n        ne: Int,\n        in: [Int],\n        nin: [Int],\n        lt: Int,\n        gt: Int,\n        gte: Int,\n        lte: Int,\n        between: [Int],\n        null: Boolean\n      }\n    ').definitions[0]);
    return field.name.value + ': IntQuery';
  }
  if (['Float'].includes(field.type.name.value)) {
    addDefinition(ast, parse('\n      input IntQuery {\n        eq: Float,\n        ne: Float,\n        in: [Float],\n        nin: [Float],\n        lt: Float,\n        gt: Float,\n        gte: Float,\n        lte: Float,\n        between: [Float],\n        null: Boolean\n      }\n    ').definitions[0]);
    return field.name.value + ': IntQuery';
  }
  if (['Boolean'].includes(field.type.name.value)) {
    addDefinition(ast, parse('\n      input BooleanQuery {\n        eq: Float,\n        ne: Float,\n        null: Boolean\n      }\n    ').definitions[0]);
    return field.name.value + ': BooleanQuery';
  }
  if (['String', 'Website', 'Slug', 'Markdown', 'Color'].includes(field.type.name.value)) {
    addDefinition(ast, parse('\n      input StringQuery {\n        eq: String,\n        ne: String,\n        in: [String],\n        nin: [String],\n        startsWith: String,\n        contains: String,\n        null: Boolean\n      }\n    ').definitions[0]);
    return field.name.value + ': StringQuery';
  }
  if (fieldType && fieldType.kind === 'EnumTypeDefinition') {
    addDefinition(ast, parse('\n      input ' + fieldType.name.value + 'Query {\n        eq: ' + fieldType.name.value + ',\n        ne: ' + fieldType.name.value + ',\n        in: [' + fieldType.name.value + '],\n        nin: [' + fieldType.name.value + '],\n        null: Boolean\n      }\n    ').definitions[0]);
    return field.name.value + ': ' + fieldType.name.value + 'Query';
  }
  if (fieldType && fieldType.kind === 'ObjectTypeDefinition') {
    addDefinition(ast, parse('\n      input GenericQuery {\n        null: Boolean\n      }\n    ').definitions[0]);
    return field.name.value + ': GenericQuery';
  }
};

export default (function (ast, node) {
  addDefinition(ast, parse('\n    input ' + node.name.value + 'Query {\n      skipqueries: Boolean\n      ' + node.fields.map(function (x) {
    return getArgument(x, ast);
  }).filter(function (x) {
    return x;
  }).join('\n') + '\n      and: [' + node.name.value + 'Query]\n      or: [' + node.name.value + 'Query]\n    }\n  ').definitions[0]);
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhY2thZ2VzL2NvbGxlY3Rpb24vc2VydmVyL21vbmdvZGIvYWRkLXF1ZXJ5LWlucHV0LmVzNiJdLCJuYW1lcyI6WyJwYXJzZSIsImFkZERlZmluaXRpb24iLCJjcmVhdGVUeXBlRmV0Y2hlciIsImZldGNoIiwibm9kZSIsInZhbHVlIiwia2luZCIsIm5hbWUiLCJnZXRBcmd1bWVudCIsImZpZWxkIiwiYXN0IiwidHlwZSIsImRlZmluaXRpb25zIiwiZmllbGRUeXBlIiwiaW5jbHVkZXMiLCJmaWVsZHMiLCJtYXAiLCJ4IiwiZmlsdGVyIiwiam9pbiJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsS0FBVCxRQUFzQixrQkFBdEI7QUFDQSxTQUFTQyxhQUFULEVBQXdCQyxpQkFBeEIsUUFBaUQsc0JBQWpEOztBQUVBLElBQU1DLFFBQVFELGtCQUNaLFVBQUNFLElBQUQsRUFBT0MsS0FBUDtBQUFBLFNBQ0VELEtBQUtFLElBQUwsS0FBYyxXQUFkLElBQ0FGLEtBQUtFLElBQUwsS0FBYyxhQURkLElBRUEsQ0FBQyxDQUFDRixLQUFLRyxJQUZQLElBR0FILEtBQUtHLElBQUwsQ0FBVUYsS0FBVixLQUFvQkEsS0FKdEI7QUFBQSxDQURZLENBQWQ7O0FBUUEsSUFBTUcsY0FBYyxTQUFkQSxXQUFjLENBQUNDLEtBQUQsRUFBUUMsR0FBUixFQUFnQjtBQUNsQyxNQUNFRCxNQUFNRSxJQUFOLENBQVdMLElBQVgsS0FBb0IsVUFBcEIsSUFDQUcsTUFBTUUsSUFBTixDQUFXQSxJQUFYLENBQWdCSixJQUFoQixDQUFxQkYsS0FEckIsSUFFQUksTUFBTUUsSUFBTixDQUFXQSxJQUFYLENBQWdCSixJQUFoQixDQUFxQkYsS0FBckIsS0FBK0IsUUFIakMsRUFJRTtBQUNBSixrQkFDRVMsR0FERixFQUVFVix5QkFDUVMsTUFBTUUsSUFBTixDQUFXQSxJQUFYLENBQWdCSixJQUFoQixDQUFxQkYsS0FEN0IsOEJBRVNJLE1BQU1FLElBQU4sQ0FBV0EsSUFBWCxDQUFnQkosSUFBaEIs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Q1FJLEtBQUtHLElBQUwsQ0FBVUYsS0FEbEIsbURBR0lELEtBQUtXLE1BQUwsQ0FDQ0MsR0FERCxDQUNLO0FBQUEsV0FBS1IsWUFBWVMsQ0FBWixFQUFlUCxHQUFmLENBQUw7QUFBQSxHQURMLEVBRUNRLE1BRkQsQ0FFUTtBQUFBLFdBQUtELENBQUw7QUFBQSxHQUZSLEVBR0NFLElBSEQsQ0FHTSxJQUhOLENBSEosc0JBT1VmLEtBQUtHLElBQUwsQ0FBVUYsS0FQcEIsMkJBUVNELEtBQUtHLElBQUwsQ0FBVUYsS0FSbkIsd0JBVUNPLFdBVkQsQ0FVYSxDQVZiLENBRkY7QUFjRCxDQWZEIiwiZmlsZSI6InBhY2thZ2VzL2NvbGxlY3Rpb24vc2VydmVyL21vbmdvZGIvYWRkLXF1ZXJ5LWlucHV0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFyc2UgfSBmcm9tICdncmFwaHFsL2xhbmd1YWdlJztcbmltcG9ydCB7IGFkZERlZmluaXRpb24sIGNyZWF0ZVR5cGVGZXRjaGVyIH0gZnJvbSAnb2x5bXAtZ3JhcGhxbC9zZXJ2ZXInO1xuXG5jb25zdCBmZXRjaCA9IGNyZWF0ZVR5cGVGZXRjaGVyKFxuICAobm9kZSwgdmFsdWUpID0+XG4gICAgbm9kZS5raW5kICE9PSAnTmFtZWRUeXBlJyAmJlxuICAgIG5vZGUua2luZCAhPT0gJ05vbk51bGxUeXBlJyAmJlxuICAgICEhbm9kZS5uYW1lICYmXG4gICAgbm9kZS5uYW1lLnZhbHVlID09PSB2YWx1ZSxcbik7XG5cbmNvbnN0IGdldEFyZ3VtZW50ID0gKGZpZWxkLCBhc3QpID0+IHtcbiAgaWYgKFxuICAgIGZpZWxkLnR5cGUua2luZCA9PT0gJ0xpc3RUeXBlJyAmJlxuICAgIGZpZWxkLnR5cGUudHlwZS5uYW1lLnZhbHVlICYmXG4gICAgZmllbGQudHlwZS50eXBlLm5hbWUudmFsdWUgPT09ICdTdHJpbmcnXG4gICkge1xuICAgIGFkZERlZmluaXRpb24oXG4gICAgICBhc3QsXG4gICAgICBwYXJzZShgXG4gICAgICBpbnB1dCAke2ZpZWxkLnR5cGUudHlwZS5uYW1lLnZhbHVlfVF1ZXJ5IHtcbiAgICAgICAgaW46IFske2ZpZWxkLnR5cGUudHlwZS5uYW1lLnZhbHVlfV0sXG4gICAgICAgIG5pbjogWyR7ZmllbGQudHlwZS50eXBlLm5hbWUudmFsdWV9XSxcbiAgICAgICAgbnVsbDogQm9vbGVhblxuICAgICAgfVxuICAgIGApLmRlZmluaXRpb25zWzBdLFxuICAgICk7XG4gICAgcmV0dXJuIGAke2ZpZWxkLm5hbWUudmFsdWV9OiAke2ZpZWxkLnR5cGUudHlwZS5uYW1lLnZhbHVlfVF1ZXJ5YDtcbiAgfVxuICBpZiAoIWZpZWxkLnR5cGUubmFtZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IGZpZWxkVHlwZSA9IGZldGNoKGFzdCwgZmllbGQudHlwZS5uYW1lLnZhbHVlKTtcbiAgaWYgKFsnRGF0ZScsICdEYXRlVGltZSddLmluY2x1ZGVzKGZpZWxkLnR5cGUubmFtZS52YWx1ZSkpIHtcbiAgICBhZGREZWZpbml0aW9uKFxuICAgICAgYXN0LFxuICAgICAgcGFyc2UoYFxuICAgICAgaW5wdXQgRGF0ZVF1ZXJ5IHtcbiAgICAgICAgZXE6IERhdGVUaW1lLFxuICAgICAgICBuZTogRGF0ZVRpbWUsXG4gICAgICAgIGx0OiBEYXRlVGltZSxcbiAgICAgICAgZ3Q6IERhdGVUaW1lLFxuICAgICAgICBndGU6IERhdGVUaW1lLFxuICAgICAgICBsdGU6IERhdGVUaW1lLFxuICAgICAgICBkYXk6IERhdGVUaW1lLFxuICAgICAgICB5ZWFyOiBEYXRlVGltZSxcbiAgICAgICAgbW9udGg6IERhdGVUaW1lLFxuICAgICAgICBiZXR3ZWVuOiBbRGF0ZVRpbWVdLFxuICAgICAgICBudWxsOiBCb29sZWFuXG4gICAgICB9XG4gICAgYCkuZGVmaW5pdGlvbnNbMF0sXG4gICAgKTtcbiAgICByZXR1cm4gYCR7ZmllbGQubmFtZS52YWx1ZX06IERhdGVRdWVyeWA7XG4gIH1cbiAgaWYgKFsnSW50J10uaW5jbHVkZXMoZmllbGQudHlwZS5uYW1lLnZhbHVlKSkge1xuICAgIGFkZERlZmluaXRpb24oXG4gICAgICBhc3QsXG4gICAgICBwYXJzZShgXG4gICAgICBpbnB1dCBJbnRRdWVyeSB7XG4gICAgICAgIGVxOiBJbnQsXG4gICAgICAgIG5lOiBJbnQsXG4gICAgICAgIGluOiBbSW50XSxcbiAgICAgICAgbmluOiBbSW50XSxcbiAgICAgICAgbHQ6IEludCxcbiAgICAgICAgZ3Q6IEludCxcbiAgICAgICAgZ3RlOiBJbnQsXG4gICAgICAgIGx0ZTogSW50LFxuICAgICAgICBiZXR3ZWVuOiBbSW50XSxcbiAgICAgICAgbnVsbDogQm9vbGVhblxuICAgICAgfVxuICAgIGApLmRlZmluaXRpb25zWzBdLFxuICAgICk7XG4gICAgcmV0dXJuIGAke2ZpZWxkLm5hbWUudmFsdWV9OiBJbnRRdWVyeWA7XG4gIH1cbiAgaWYgKFsnRmxvYXQnXS5pbmNsdWRlcyhmaWVsZC50eXBlLm5hbWUudmFsdWUpKSB7XG4gICAgYWRkRGVmaW5pdGlvbihcbiAgICAgIGFzdCxcbiAgICAgIHBhcnNlKGBcbiAgICAgIGlucHV0IEludFF1ZXJ5IHtcbiAgICAgICAgZXE6IEZsb2F0LFxuICAgICAgICBuZTogRmxvYXQsXG4gICAgICAgIGluOiBbRmxvYXRdLFxuICAgICAgICBuaW46IFtGbG9hdF0sXG4gICAgICAgIGx0OiBGbG9hdCxcbiAgICAgICAgZ3Q6IEZsb2F0LFxuICAgICAgICBndGU6IEZsb2F0LFxuICAgICAgICBsdGU6IEZsb2F0LFxuICAgICAgICBiZXR3ZWVuOiBbRmxvYXRdLFxuICAgICAgICBudWxsOiBCb29sZWFuXG4gICAgICB9XG4gICAgYCkuZGVmaW5pdGlvbnNbMF0sXG4gICAgKTtcbiAgICByZXR1cm4gYCR7ZmllbGQubmFtZS52YWx1ZX06IEludFF1ZXJ5YDtcbiAgfVxuICBpZiAoWydCb29sZWFuJ10uaW5jbHVkZXMoZmllbGQudHlwZS5uYW1lLnZhbHVlKSkge1xuICAgIGFkZERlZmluaXRpb24oXG4gICAgICBhc3QsXG4gICAgICBwYXJzZShgXG4gICAgICBpbnB1dCBCb29sZWFuUXVlcnkge1xuICAgICAgICBlcTogRmxvYXQsXG4gICAgICAgIG5lOiBGbG9hdCxcbiAgICAgICAgbnVsbDogQm9vbGVhblxuICAgICAgfVxuICAgIGApLmRlZmluaXRpb25zWzBdLFxuICAgICk7XG4gICAgcmV0dXJuIGAke2ZpZWxkLm5hbWUudmFsdWV9OiBCb29sZWFuUXVlcnlgO1xuICB9XG4gIGlmIChcbiAgICBbJ1N0cmluZycsICdXZWJzaXRlJywgJ1NsdWcnLCAnTWFya2Rvd24nLCAnQ29sb3InXS5pbmNsdWRlcyhcbiAgICAgIGZpZWxkLnR5cGUubmFtZS52YWx1ZSxcbiAgICApXG4gICkge1xuICAgIGFkZERlZmluaXRpb24oXG4gICAgICBhc3QsXG4gICAgICBwYXJzZShgXG4gICAgICBpbnB1dCBTdHJpbmdRdWVyeSB7XG4gICAgICAgIGVxOiBTdHJpbmcsXG4gICAgICAgIG5lOiBTdHJpbmcsXG4gICAgICAgIGluOiBbU3RyaW5nXSxcbiAgICAgICAgbmluOiBbU3RyaW5nXSxcbiAgICAgICAgc3RhcnRzV2l0aDogU3RyaW5nLFxuICAgICAgICBjb250YWluczogU3RyaW5nLFxuICAgICAgICBudWxsOiBCb29sZWFuXG4gICAgICB9XG4gICAgYCkuZGVmaW5pdGlvbnNbMF0sXG4gICAgKTtcbiAgICByZXR1cm4gYCR7ZmllbGQubmFtZS52YWx1ZX06IFN0cmluZ1F1ZXJ5YDtcbiAgfVxuICBpZiAoZmllbGRUeXBlICYmIGZpZWxkVHlwZS5raW5kID09PSAnRW51bVR5cGVEZWZpbml0aW9uJykge1xuICAgIGFkZERlZmluaXRpb24oXG4gICAgICBhc3QsXG4gICAgICBwYXJzZShgXG4gICAgICBpbnB1dCAke2ZpZWxkVHlwZS5uYW1lLnZhbHVlfVF1ZXJ5IHtcbiAgICAgICAgZXE6ICR7ZmllbGRUeXBlLm5hbWUudmFsdWV9LFxuICAgICAgICBuZTogJHtmaWVsZFR5cGUubmFtZS52YWx1ZX0sXG4gICAgICAgIGluOiBbJHtmaWVsZFR5cGUubmFtZS52YWx1ZX1dLFxuICAgICAgICBuaW46IFske2ZpZWxkVHlwZS5uYW1lLnZhbHVlfV0sXG4gICAgICAgIG51bGw6IEJvb2xlYW5cbiAgICAgIH1cbiAgICBgKS5kZWZpbml0aW9uc1swXSxcbiAgICApO1xuICAgIHJldHVybiBgJHtmaWVsZC5uYW1lLnZhbHVlfTogJHtmaWVsZFR5cGUubmFtZS52YWx1ZX1RdWVyeWA7XG4gIH1cbiAgaWYgKGZpZWxkVHlwZSAmJiBmaWVsZFR5cGUua2luZCA9PT0gJ09iamVjdFR5cGVEZWZpbml0aW9uJykge1xuICAgIGFkZERlZmluaXRpb24oXG4gICAgICBhc3QsXG4gICAgICBwYXJzZShgXG4gICAgICBpbnB1dCBHZW5lcmljUXVlcnkge1xuICAgICAgICBudWxsOiBCb29sZWFuXG4gICAgICB9XG4gICAgYCkuZGVmaW5pdGlvbnNbMF0sXG4gICAgKTtcbiAgICByZXR1cm4gYCR7ZmllbGQubmFtZS52YWx1ZX06IEdlbmVyaWNRdWVyeWA7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IChhc3QsIG5vZGUpID0+IHtcbiAgYWRkRGVmaW5pdGlvbihcbiAgICBhc3QsXG4gICAgcGFyc2UoYFxuICAgIGlucHV0ICR7bm9kZS5uYW1lLnZhbHVlfVF1ZXJ5IHtcbiAgICAgIHNraXBxdWVyaWVzOiBCb29sZWFuXG4gICAgICAke25vZGUuZmllbGRzXG4gICAgICAgIC5tYXAoeCA9PiBnZXRBcmd1bWVudCh4LCBhc3QpKVxuICAgICAgICAuZmlsdGVyKHggPT4geClcbiAgICAgICAgLmpvaW4oJ1xcbicpfVxuICAgICAgYW5kOiBbJHtub2RlLm5hbWUudmFsdWV9UXVlcnldXG4gICAgICBvcjogWyR7bm9kZS5uYW1lLnZhbHVlfVF1ZXJ5XVxuICAgIH1cbiAgYCkuZGVmaW5pdGlvbnNbMF0sXG4gICk7XG59O1xuIl19
